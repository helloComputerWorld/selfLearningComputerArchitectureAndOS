# 운영체제 시작하기

## OS란

- 컴퓨터 하드웨어 바로 위에 설치되어 사용자 및 다른 모든 소프트웨어와 하드웨어를 연결하는 소프트웨어 계층
- 컴퓨터 부팅 시 메모리 내 `커널 영역`이라는 공간에 따로 적재되어 실행

## 운영체제의 역할

1. 자원 관리

- 컴퓨터 시스템 자원 효율적 관리
- CPU 스케줄링, 메모리 관리, 인터럽트 서비스 루틴 실행

2. 자원 보호

- 프로그램이나 다른 사용자가 데이터를 삭제하거나 중요 파일에 접근하지 못하게 컴퓨터 자원 보호

3. 인터페이스 제공

- 하드웨어 인터페이스와 사용자 인터페이스를 제공하여 편리하게 사용하도록 지원

## 운영체제 구조

### 1. Kernel

- 프로세스 관리, 메모리 관리, 저장공간 관리, 연결된 장치 관리 등 컴퓨터에 속한 모든 자원을 관리하는 역할
- 사용자 인터페이스를 커널이 제공하지는 않는다.

### Double Mode와 System Call

- CPU가 명령어를 실행하는 모드를 커널모드와 사용자 모드를 나누는 것을 말한다.

#### User Mode: CPU 명령어를 사용해 하드웨어를 직접 제어

- 일반적인 응용 프로그램은 기본적으로 사용자 모드로 실행된다.

#### Kernel Mode: CPU 명령어 사용을 제한

- User Mode와 Kernel Mode를 시스템 콜을 통해서 전환한다.

### 2. Interface

- 사용자의 명령을 컴퓨터에 전달하고 결과를 사용자에게 알려주는 소통의 역할
- 대표적으로 GUI, CLI가 있다.

### 3. System Call

- 사용자나 프로그램이 직접적으로 컴퓨터 자원에 접근하는 것을 막고 커널을 보호하기 위해 만든 코드 집합
- System Call 함수를 통해 커널에 접근한다.
- System Call 예시
  1. 한 응용 프로그램이 하드 디스크에 데이터를 저장하려 함.
  2. 하지만 사용자 모드로(유저모드)로 실행되는 동안에는 자원(하드 디스크)에 접근할 수 없기에 커널 모드로 전환이 필요.
  3. 응용 프로그램은 하드 디스크에 데이터를 저장하는 시스템 호출을 발생시킴.
  4. 운영체제는 시스템 호출을 받고 커널 모드로 전환, 운영체제 내의 '하드 디스크 데이터를 저장하는 코드'를 실행.
  5. 필요한 하드 디스크로의 접근이 끝나면 다시 사용자 모드로 복귀하여 응용 프로그램 실행을 계속해 나감.
